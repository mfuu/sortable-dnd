<!DOCTYPE html>
<html lang="en">
<head>
  <title>Sortable</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/sortable.css">
  <link rel="stylesheet" href="./css/prism-one-light.min.css"></link>
  <script src="./js/sentences.js"></script>
  <script src="./js/sortable.js"></script>
  <script src="https://unpkg.com/sortable-dnd/dist/sortable-dnd.min.js"></script>
  <script src="https://unpkg.com/prismjs/prism.js"></script>
  <script src="https://unpkg.com/mockjs/dist/mock.js"></script>
</head>
<body>
  <!-- tab -->
  <div class="tabs">
    <button class="tabs-item" onclick="tabClick(this, 'byhandle')">handle</button>
    <button class="tabs-item" onclick="tabClick(this, 'group')">group</button>
    <button class="tabs-item" onclick="tabClick(this, 'multiple')">multiple</button>
    <button class="tabs-item" onclick="tabClick(this, 'grid')">grid</button>
    <script>
      function tabClick(node, key) {
        const tabs = document.querySelectorAll('.tabs-item');
        const contents = document.querySelectorAll('.content-item');
        let index = -1;
        for(let i = 0; i < tabs.length; i++) {
          tabs[i].classList.remove('active-tab');
          contents[i].style.display = 'none';
          if (contents[i].classList.contains(key)) {
            index = i;
          }
        }
        node.classList.add('active-tab');
        contents[index].style.display = 'block';
      }
    </script>
  </div>
  <!-- container -->
  <div class="content">
    <div class="content-item byhandle">
      <pre class="flex justify-content-center">
        <code class="language-js">
          new Sortable(
            document.getElementById('group'),
            {
              handle: ".handle",
              chosenClass: "chosen",
              selectedClass: "selected",
            }
          )
        </code>
      </pre>
      <ul id="byhandle" class="list"></ul>
      <script>
        initSortable('byhandle', { handle: ".handle" });
      </script>
    </div>

    <div class="content-item group">
      <pre class="flex justify-content-center">
        <code class="language-js">
          new Sortable(
            document.getElementById('group1'),
            {
              group: { name: 'a', put: true, pull: 'clone', revertDrag: true },
              chosenClass: "chosen",
            }
          );

          new Sortable(
            document.getElementById('group2'),
            {
              group: { name: 'b', put: ['a', 'b'], pull: true },
              chosenClass: "chosen",
            }
          )

          ...
        </code>
      </pre>
      <div class="group-list flex justify-content-center">
        <ul id="group1" class="list"></ul>
        <ul id="group2" class="list"></ul>
        <ul id="group3" class="list"></ul>
        <ul id="group4" class="list"></ul>
        <ul id="group5" class="list"></ul>
      </div>
      <script>
        initSortable('group1', { itemClass: 'white', group: { name: 'white', put: true, pull: 'clone', revertDrag: true }, multiple: true });
        initSortable('group2', { itemClass: 'pink', group: { name: 'pink', put: ['white', 'pink'], pull: '1' }, multiple: true });
        initSortable('group3', { itemClass: 'pink', group: { name: 'pink', put: ['white', 'pink'], pull: '1' }, multiple: true });
        initSortable('group4', { itemClass: 'green', group: { name: 'green', put: ['white', 'green'], pull: '1' }, multiple: true });
        initSortable('group5', { itemClass: 'green', group: { name: 'green', put: ['white', 'green'], pull: '1' }, multiple: true });
      </script>
    </div>

    <div class="content-item multiple">
      <pre class="flex justify-content-center">
        <code class="language-js">
          new Sortable(
            document.getElementById('group'),
            {
              handle: '.handle', // Use `handle` or `selectHandle` to avoid click event conflicts
              multiple: true, // mouse click to selected item
              chosenClass: 'chosen',
              selectedClass: 'selected',
            }
          )
        </code>
      </pre>
      <ul id="multiple" class="list"></ul>
      <script>
        initSortable('multiple', { multiple: true, handle: '.handle' });
      </script>
    </div>

    <div class="content-item grid">
      <pre class="flex justify-content-center">
        <code class="language-js">
          new Sortable(
            document.getElementById('group'),
            {
              chosenClass: "chosen",
              selectedClass: "selected",
            }
          )
        </code>
      </pre>
      <ul id="grid" class="list grid-list"></ul>
      <script>
        initSortable('grid');
      </script>
    </div>

    <!-- <div id="nested" class="row">
      <h4 class="col-12">嵌套排序例子</h4>
      <p class="col-12">注意: 当开启嵌套排序动画的时候, 建议将 <code>fallbackOnBody</code> 选项设置为true。</p>
      <div id="nestedDemo" class="list-group col nested-sortable">
          
          <div class="list-group-item nested-1" draggable="false" style="">Item 1.1
              <div class="list-group nested-sortable">
                  <div class="list-group-item nested-2">Item 2.1</div>
                  <div class="list-group-item nested-2">Item 2.2
                      <div class="list-group nested-sortable">
                          <div class="list-group-item nested-3">Item 3.1</div>
                          <div class="list-group-item nested-3">Item 3.2</div>
                          <div class="list-group-item nested-3">Item 3.3</div>
                          <div class="list-group-item nested-3">Item 3.4</div>
                      </div>
                  </div>
                  <div class="list-group-item nested-2">Item 2.3</div>
                  <div class="list-group-item nested-2">Item 2.4</div>
              </div>
          </div><div class="list-group-item nested-1" style="">Item 1.2</div>
          <div class="list-group-item nested-1" style="">Item 1.3</div>
          <div class="list-group-item nested-1">Item 1.4
              <div class="list-group nested-sortable">
                  <div class="list-group-item nested-2">Item 2.1</div>
                  <div class="list-group-item nested-2">Item 2.2</div>
                  <div class="list-group-item nested-2">Item 2.3</div>
                  <div class="list-group-item nested-2">Item 2.4</div>
              </div>
          </div>
          <div class="list-group-item nested-1">Item 1.5</div>
      </div>
    </div> -->
  </div>

  <script>
    tabClick(document.querySelectorAll('.tabs-item')[0], 'byhandle');
  </script>
</body>
</html>
